query GlobalInfo {
  globals {
    chainId: id
    factoryAddress
  }
}

query QuestChainsInfo($limit: Int) {
  questChains(first: $limit) {
    ...QuestChainInfo
  }
}

query CreatedQuestChainsInfo($limit: Int, $user: String) {
  questChains(
    first: $limit
    where: { createdBy: $user }
    orderBy: createdAt
    orderDirection: desc
  ) {
    ...QuestChainInfo
  }
}

query QuestChainInfo($address: ID!) {
  questChain(id: $address) {
    ...QuestChainInfo
  }
}

query QuestChainAddresses($limit: Int!) {
  questChains(first: $limit) {
    address: id
  }
}

query QuestChainSearch($search: String, $limit: Int) {
  questChains(
    first: $limit
    where: { search_contains: $search }
    orderBy: createdAt
    orderDirection: desc
  ) {
    ...QuestChainInfo
  }
}

query QuestChainSearch($search: String, $limit: Int) {
  questChains(
    first: $limit
    where: { search_contains: $search }
    orderBy: createdAt
    orderDirection: desc
  ) {
    ...QuestChainInfo
  }
}

query QuestChainsReviewStatus($reviewer: String!, $limit: Int) {
  questChains(first: $limit, where: { reviewers_contains: [$reviewer] }) {
    ...QuestChainReviewInfo
  }
}

query StatusForChain($address: String!, $limit: Int) {
  questStatuses(first: $limit, where: { questChain: $address }) {
    ...QuestStatusInfo
  }
}

query StatusForUser($user: String!, $limit: Int) {
  questStatuses(first: $limit, where: { user: $user }) {
    ...QuestStatusInfo
  }
}

query StatusForUserAndChain($user: String!, $address: String!, $limit: Int) {
  questStatuses(first: $limit, where: { user: $user, questChain: $address }) {
    ...QuestStatusInfo
  }
}

query RolesForUser($address: ID!) {
  user(id: $address) {
    adminOf {
      ...QuestChainInfo
    }
    editorOf {
      ...QuestChainInfo
    }
    reviewerOf {
      ...QuestChainInfo
    }
  }
}
